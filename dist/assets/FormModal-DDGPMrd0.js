import{r as K,j as s,aY as i,S,B as m}from"./index-CV1bxkLI.js";import{F as f}from"./index-ChYIY3iE.js";const N=({title:u,open:t,onClose:c,onSubmit:h,loading:o=!1,initialValues:r={},form:y,width:F=520,children:x,submitText:j="Save",cancelText:k="Cancel",destroyOnClose:v=!0,confirmOnClose:p=!1,footer:l,...b})=>{const[C]=f.useForm(),e=y||C;K.useEffect(()=>{t&&(e.resetFields(),Object.keys(r).length>0&&e.setFieldsValue(r))},[t,r,e]);const n=async()=>{try{const a=await e.validateFields();await h(a)}catch{}},d=()=>{p&&e.isFieldsTouched()?i.confirm({title:"Unsaved Changes",content:"You have unsaved changes. Are you sure you want to close?",okText:"Discard",cancelText:"Keep Editing",onOk:()=>{e.resetFields(),c()}}):(e.resetFields(),c())},w=a=>{a.key==="Enter"&&a.ctrlKey&&n()},E=s.jsx("div",{className:"form-modal-footer",children:s.jsxs(S,{children:[s.jsx(m,{onClick:d,disabled:o,children:k}),s.jsx(m,{type:"primary",onClick:n,loading:o,children:j})]})});return s.jsx(i,{title:u,open:t,onCancel:d,width:F,destroyOnClose:v,footer:l!==void 0?l:E,className:"form-modal",maskClosable:!o,closable:!o,keyboard:!o,...b,children:s.jsx(f,{form:e,layout:"vertical",onKeyDown:w,className:"form-modal-content",requiredMark:"optional",children:x})})};export{N as F};
