import{r as o,n as A,j as t,I as x}from"./index-Dam5Oft4.js";import{P as E}from"./PageHeader-CZTgCyCQ.js";import{D as V}from"./DataTable-CdlHlVvB.js";import{F as C}from"./FormModal-DAw8X4uI.js";import{c as k,j as D}from"./mockData-Cb9OjNPh.js";/* empty css                 */import{F as l}from"./index-BKD578Au.js";import{T as B}from"./index-B2mNOki0.js";import{T as N,C as M}from"./index-FCt6_Que.js";import{T as O}from"./index-CA2Oabsq.js";import{S as P}from"./index-ZWRJJm0q.js";import"./ReloadOutlined-DwAtovzj.js";import"./index-DuDzpR4g.js";import"./DeleteOutlined-B7Ves8ci.js";import"./Pagination-Uk28cVne.js";import"./Table-C6DyXLPW.js";import"./index-CrsKlaQM.js";import"./useForm-Boa0LRH0.js";import"./index-B4TLLAPK.js";const{Text:q}=N,m=k(D),R=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],re=()=>{const[f,i]=o.useState([]),[y,j]=o.useState(!0),[F,n]=o.useState(!1),[s,b]=o.useState(null),[c]=l.useForm(),{showSuccess:p,showError:h}=A(),g=async()=>{j(!0);try{const e=await m.getAll();i(e.data)}catch{h("Failed to fetch Bloom levels")}finally{j(!1)}};o.useEffect(()=>{g()},[]);const I=o.useMemo(()=>[{title:"Level",dataIndex:"level",key:"level",width:80,sorter:(e,a)=>e.level-a.level,render:e=>t.jsxs(B,{color:R[e-1]||"default",children:["L",e]})},{title:"Name",dataIndex:"name",key:"name",sorter:(e,a)=>e.name.localeCompare(a.name),render:(e,a)=>t.jsxs("div",{children:[t.jsx(q,{strong:!0,children:e}),t.jsx("div",{style:{fontSize:12,color:"var(--color-text-tertiary)"},children:a.description})]})},{title:"Action Verbs",dataIndex:"actionVerbs",key:"actionVerbs",width:300,render:e=>(e==null?void 0:e.join(", "))||"-"},{title:"Status",dataIndex:"status",key:"status",width:100,render:e=>t.jsx(B,{color:e==="active"?"success":"default",children:(e==null?void 0:e.charAt(0).toUpperCase())+(e==null?void 0:e.slice(1))})}],[]),S=()=>{b(null),c.resetFields(),n(!0)},w=e=>{var a;b(e),c.setFieldsValue({...e,actionVerbs:(a=e.actionVerbs)==null?void 0:a.join(", ")}),n(!0)},L=async e=>{try{await m.delete(e.id),i(a=>a.filter(d=>d.id!==e.id)),p("Bloom level deleted")}catch{h("Failed to delete")}},T=async e=>{var a;try{const d={...e,actionVerbs:(a=e.actionVerbs)==null?void 0:a.split(",").map(r=>r.trim()).filter(Boolean)};if(s){const r=await m.update(s.id,d);i(u=>u.map(v=>v.id===s.id?{...v,...r.data}:v)),p("Bloom level updated")}else{const r=await m.create(d);i(u=>[...u,r.data]),p("Bloom level created")}n(!1),c.resetFields()}catch{h("Failed to save")}};return t.jsxs("div",{className:"crud-page",children:[t.jsx(E,{title:"Bloom Levels",subtitle:"Manage Bloom's Taxonomy cognitive levels for question classification",onAdd:S,addText:"Add Level",onRefresh:g,loading:y}),t.jsx(M,{className:"content-card",children:t.jsx(V,{tableId:"bloom-levels",columns:I,dataSource:f,loading:y,searchKeys:["name","description"],onEdit:w,onDelete:L,emptyText:"No Bloom Levels Found",emptyDescription:"Define Bloom's Taxonomy levels for question classification."})}),t.jsxs(C,{title:s?"Edit Bloom Level":"Add Bloom Level",open:F,onClose:()=>n(!1),onSubmit:T,form:c,initialValues:s||{status:"active",level:f.length+1},children:[t.jsx(l.Item,{name:"level",label:"Level Number",rules:[{required:!0,message:"Please enter level number"}],children:t.jsx(O,{min:1,max:6,style:{width:"100%"}})}),t.jsx(l.Item,{name:"name",label:"Level Name",rules:[{required:!0,message:"Please enter level name"}],children:t.jsx(x,{placeholder:"e.g., Remember, Understand, Apply"})}),t.jsx(l.Item,{name:"description",label:"Description",children:t.jsx(x.TextArea,{rows:2,placeholder:"Brief description of this cognitive level"})}),t.jsx(l.Item,{name:"actionVerbs",label:"Action Verbs (comma-separated)",extra:"Enter action verbs associated with this level, separated by commas",children:t.jsx(x.TextArea,{rows:2,placeholder:"e.g., define, list, recall, identify, recognize"})}),t.jsx(l.Item,{name:"status",label:"Status",valuePropName:"checked",getValueFromEvent:e=>e?"active":"inactive",getValueProps:e=>({checked:e==="active"}),children:t.jsx(P,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})]})};export{re as default};
