import{r as K,j as s,S as M,B as d}from"./index-Dam5Oft4.js";import{F as m}from"./index-BKD578Au.js";import{M as f}from"./index-B4TLLAPK.js";const T=({title:u,open:r,onClose:c,onSubmit:h,loading:o=!1,initialValues:a={},form:y,width:F=520,children:x,submitText:j="Save",cancelText:k="Cancel",destroyOnClose:p=!0,confirmOnClose:v=!1,footer:l,...b})=>{const[C]=m.useForm(),e=y||C;K.useEffect(()=>{r&&(e.resetFields(),Object.keys(a).length>0&&e.setFieldsValue(a))},[r,a,e]);const n=async()=>{try{const t=await e.validateFields();await h(t)}catch{}},i=()=>{v&&e.isFieldsTouched()?f.confirm({title:"Unsaved Changes",content:"You have unsaved changes. Are you sure you want to close?",okText:"Discard",cancelText:"Keep Editing",onOk:()=>{e.resetFields(),c()}}):(e.resetFields(),c())},w=t=>{t.key==="Enter"&&t.ctrlKey&&n()},E=s.jsx("div",{className:"form-modal-footer",children:s.jsxs(M,{children:[s.jsx(d,{onClick:i,disabled:o,children:k}),s.jsx(d,{type:"primary",onClick:n,loading:o,children:j})]})});return s.jsx(f,{title:u,open:r,onCancel:i,width:F,destroyOnClose:p,footer:l!==void 0?l:E,className:"form-modal",maskClosable:!o,closable:!o,keyboard:!o,...b,children:s.jsx(m,{form:e,layout:"vertical",onKeyDown:w,className:"form-modal-content",requiredMark:"optional",children:x})})};export{T as F};
