import{z as se,r as o,b6 as le,bm as U,q as w,a4 as ie,W as re,a9 as oe,X as O,ae as ce,ah as de,aF as me,am as ue,n as pe,j as a,S as F,B as N,aU as ge,bn as be,aJ as he}from"./index-Dam5Oft4.js";import{P as xe}from"./PageHeader-CZTgCyCQ.js";import{d as W,b as V,r as fe}from"./mockData-Cb9OjNPh.js";/* empty css                 */import{R as je}from"./QuestionPaper-C2CUjefT.js";import{T as ye,C as X,R as ve,a as A}from"./index-FCt6_Que.js";import{T as M}from"./index-B2mNOki0.js";import{a as Oe,R as $e}from"./ClockCircleOutlined-UDusPC1w.js";import{R as Y}from"./DownloadOutlined-BqSPMs8z.js";import{R as we}from"./DeleteOutlined-B7Ves8ci.js";import{M as K}from"./index-B4TLLAPK.js";import{F as Se}from"./Table-C6DyXLPW.js";import"./ReloadOutlined-DwAtovzj.js";import"./Pagination-Uk28cVne.js";import"./index-CrsKlaQM.js";import"./useForm-Boa0LRH0.js";const Ce={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},G=se.createContext({});var Ie=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ee=e=>le(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function Te(e,t,r){const n=o.useMemo(()=>t||Ee(r),[t,r]);return o.useMemo(()=>n.map(m=>{var{span:l}=m,h=Ie(m,["span"]);return l==="filled"?Object.assign(Object.assign({},h),{filled:!0}):Object.assign(Object.assign({},h),{span:typeof l=="number"?l:U(e,l)})}),[n,e])}var Ne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function Pe(e,t){let r=[],n=[],s=!1,m=0;return e.filter(l=>l).forEach(l=>{const{filled:h}=l,b=Ne(l,["filled"]);if(h){n.push(b),r.push(n),n=[],m=0;return}const f=t-m;m+=l.span||1,m>=t?(m>t?(s=!0,n.push(Object.assign(Object.assign({},b),{span:f}))):n.push(b),r.push(n),n=[],m=0):n.push(b)}),n.length>0&&r.push(n),r=r.map(l=>{const h=l.reduce((b,f)=>b+(f.span||1),0);if(h<t){const b=l[l.length-1];return b.span=t-(h-(b.span||1)),l}return l}),[r,s]}const Me=(e,t)=>{const[r,n]=o.useMemo(()=>Pe(t,e),[t,e]);return r},Re=({children:e})=>e,B=e=>e!=null,L=e=>{const{itemPrefixCls:t,component:r,span:n,className:s,style:m,labelStyle:l,contentStyle:h,bordered:b,label:f,content:g,colon:I,type:y,styles:x}=e,v=r,{classNames:i}=o.useContext(G),S=Object.assign(Object.assign({},l),x==null?void 0:x.label),u=Object.assign(Object.assign({},h),x==null?void 0:x.content);return b?o.createElement(v,{colSpan:n,style:m,className:w(s,{[`${t}-item-${y}`]:y==="label"||y==="content",[i==null?void 0:i.label]:(i==null?void 0:i.label)&&y==="label",[i==null?void 0:i.content]:(i==null?void 0:i.content)&&y==="content"})},B(f)&&o.createElement("span",{style:S},f),B(g)&&o.createElement("span",{style:u},g)):o.createElement(v,{colSpan:n,style:m,className:w(`${t}-item`,s)},o.createElement("div",{className:`${t}-item-container`},B(f)&&o.createElement("span",{style:S,className:w(`${t}-item-label`,i==null?void 0:i.label,{[`${t}-item-no-colon`]:!I})},f),B(g)&&o.createElement("span",{style:u,className:w(`${t}-item-content`,i==null?void 0:i.content)},g)))};function _(e,{colon:t,prefixCls:r,bordered:n},{component:s,type:m,showLabel:l,showContent:h,labelStyle:b,contentStyle:f,styles:g}){return e.map(({label:I,children:y,prefixCls:x=r,className:v,style:i,labelStyle:S,contentStyle:u,span:c=1,key:p,styles:d},C)=>typeof s=="string"?o.createElement(L,{key:`${m}-${p||C}`,className:v,style:i,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},b),g==null?void 0:g.label),S),d==null?void 0:d.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},f),g==null?void 0:g.content),u),d==null?void 0:d.content)},span:c,colon:t,component:s,itemPrefixCls:x,bordered:n,label:l?I:null,content:h?y:null,type:m}):[o.createElement(L,{key:`label-${p||C}`,className:v,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},b),g==null?void 0:g.label),i),S),d==null?void 0:d.label),span:1,colon:t,component:s[0],itemPrefixCls:x,bordered:n,label:I,type:"label"}),o.createElement(L,{key:`content-${p||C}`,className:v,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},f),g==null?void 0:g.content),i),u),d==null?void 0:d.content),span:c*2-1,component:s[1],itemPrefixCls:x,bordered:n,content:y,type:"content"})])}const Be=e=>{const t=o.useContext(G),{prefixCls:r,vertical:n,row:s,index:m,bordered:l}=e;return n?o.createElement(o.Fragment,null,o.createElement("tr",{key:`label-${m}`,className:`${r}-row`},_(s,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),o.createElement("tr",{key:`content-${m}`,className:`${r}-row`},_(s,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):o.createElement("tr",{key:m,className:`${r}-row`},_(s,e,Object.assign({component:l?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},De=e=>{const{componentCls:t,labelBg:r}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${O(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${O(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:first-child":{"> th:first-child, > td:first-child":{borderStartStartRadius:e.borderRadiusLG}},"&:last-child":{borderBottom:"none","> th:first-child, > td:first-child":{borderEndStartRadius:e.borderRadiusLG}},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${O(e.padding)} ${O(e.paddingLG)}`,borderInlineEnd:`${O(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:r,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${O(e.paddingSM)} ${O(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${O(e.paddingXS)} ${O(e.padding)}`}}}}}},ze=e=>{const{componentCls:t,extraColor:r,itemPaddingBottom:n,itemPaddingEnd:s,colonMarginRight:m,colonMarginLeft:l,titleMarginBottom:h}=e;return{[t]:Object.assign(Object.assign(Object.assign({},oe(e)),De(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:h},[`${t}-title`]:Object.assign(Object.assign({},ce),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:r,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n,paddingInlineEnd:s},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${O(l)} ${O(m)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},Ae=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),Le=ie("Descriptions",e=>{const t=re(e,{});return ze(t)},Ae);var _e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const j=e=>{const{prefixCls:t,title:r,extra:n,column:s,colon:m=!0,bordered:l,layout:h,children:b,className:f,rootClassName:g,style:I,size:y,labelStyle:x,contentStyle:v,styles:i,items:S,classNames:u}=e,c=_e(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:p,direction:d,className:C,style:Q,classNames:E,styles:T}=de("descriptions"),$=p("descriptions",t),D=me(),Z=o.useMemo(()=>{var P;return typeof s=="number"?s:(P=U(D,Object.assign(Object.assign({},Ce),s)))!==null&&P!==void 0?P:3},[D,s]),k=Te(D,S,b),z=ue(y),J=Me(Z,k),[ee,te,ne]=Le($),ae=o.useMemo(()=>({labelStyle:x,contentStyle:v,styles:{content:Object.assign(Object.assign({},T.content),i==null?void 0:i.content),label:Object.assign(Object.assign({},T.label),i==null?void 0:i.label)},classNames:{label:w(E.label,u==null?void 0:u.label),content:w(E.content,u==null?void 0:u.content)}}),[x,v,i,u,E,T]);return ee(o.createElement(G.Provider,{value:ae},o.createElement("div",Object.assign({className:w($,C,E.root,u==null?void 0:u.root,{[`${$}-${z}`]:z&&z!=="default",[`${$}-bordered`]:!!l,[`${$}-rtl`]:d==="rtl"},f,g,te,ne),style:Object.assign(Object.assign(Object.assign(Object.assign({},Q),T.root),i==null?void 0:i.root),I)},c),(r||n)&&o.createElement("div",{className:w(`${$}-header`,E.header,u==null?void 0:u.header),style:Object.assign(Object.assign({},T.header),i==null?void 0:i.header)},r&&o.createElement("div",{className:w(`${$}-title`,E.title,u==null?void 0:u.title),style:Object.assign(Object.assign({},T.title),i==null?void 0:i.title)},r),n&&o.createElement("div",{className:w(`${$}-extra`,E.extra,u==null?void 0:u.extra),style:Object.assign(Object.assign({},T.extra),i==null?void 0:i.extra)},n)),o.createElement("div",{className:`${$}-view`},o.createElement("table",null,o.createElement("tbody",null,J.map((P,q)=>o.createElement(Be,{key:q,index:q,colon:m,prefixCls:$,vertical:h==="vertical",bordered:l,row:P}))))))))};j.Item=Re;const{Title:H,Text:R,Paragraph:at}=ye,He=[{id:1,courseId:1,branchId:1,regulationId:1,examType:"mid",semester:5,academicYear:"2024-25",totalMarks:50,duration:90,questionCount:10,status:"final",generatedAt:"2024-12-15T10:30:00Z",generatedBy:"Dr. Rajesh Kumar"},{id:2,courseId:2,branchId:1,regulationId:1,examType:"end",semester:5,academicYear:"2024-25",totalMarks:100,duration:180,questionCount:15,status:"draft",generatedAt:"2024-12-10T14:15:00Z",generatedBy:"Dr. Rajesh Kumar"},{id:3,courseId:3,branchId:2,regulationId:1,examType:"mid",semester:3,academicYear:"2024-25",totalMarks:50,duration:90,questionCount:10,status:"final",generatedAt:"2024-12-05T09:00:00Z",generatedBy:"Dr. Rajesh Kumar"}],st=()=>{const[e,t]=o.useState([]),[r,n]=o.useState(!0),[s,m]=o.useState(!1),[l,h]=o.useState(null),{showSuccess:b,showError:f}=pe();o.useEffect(()=>{setTimeout(()=>{t(He),n(!1)},500)},[]);const g=o.useMemo(()=>[{title:"Course",key:"course",render:(c,p)=>{const d=W.find(C=>C.id===p.courseId);return a.jsxs("div",{children:[a.jsx(R,{strong:!0,children:(d==null?void 0:d.name)||"-"}),a.jsx("br",{}),a.jsx(R,{type:"secondary",style:{fontSize:12},children:d==null?void 0:d.code})]})}},{title:"Branch",key:"branch",width:100,render:(c,p)=>{const d=V.find(C=>C.id===p.branchId);return a.jsx(M,{children:(d==null?void 0:d.code)||"-"})}},{title:"Exam Type",dataIndex:"examType",key:"examType",width:120,render:c=>a.jsx(M,{color:c==="end"?"blue":"green",children:c==="end"?"End Sem":c==="mid"?"Mid Sem":c})},{title:"Semester",dataIndex:"semester",key:"semester",width:100,render:c=>`Sem ${c}`},{title:"Marks",dataIndex:"totalMarks",key:"totalMarks",width:80,align:"center"},{title:"Questions",dataIndex:"questionCount",key:"questionCount",width:90,align:"center"},{title:"Status",dataIndex:"status",key:"status",width:100,render:c=>a.jsx(M,{color:c==="final"?"success":"warning",children:c.charAt(0).toUpperCase()+c.slice(1)})},{title:"Generated",dataIndex:"generatedAt",key:"generatedAt",width:140,render:c=>a.jsxs("div",{style:{fontSize:12},children:[a.jsx(Oe,{style:{marginRight:4}}),new Date(c).toLocaleDateString(),a.jsx("br",{}),a.jsx($e,{style:{marginRight:4}}),new Date(c).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})},{title:"Actions",key:"actions",width:150,fixed:"right",render:(c,p)=>a.jsxs(F,{size:"small",children:[a.jsx(N,{type:"text",icon:a.jsx(ge,{}),onClick:()=>I(p),title:"View"}),a.jsx(N,{type:"text",icon:a.jsx(Y,{}),onClick:()=>y(),title:"Download"}),a.jsx(N,{type:"text",icon:a.jsx(je,{}),onClick:()=>x(),title:"Print"}),a.jsx(N,{type:"text",danger:!0,icon:a.jsx(we,{}),onClick:()=>v(p),title:"Delete"})]})}],[]),I=c=>{h(c),m(!0)},y=c=>{b("PDF download started")},x=c=>{b("Opening print dialog..."),window.print()},v=c=>{K.confirm({title:"Delete Paper?",content:"Are you sure you want to delete this generated paper? This action cannot be undone.",okText:"Delete",okButtonProps:{danger:!0},onOk:()=>{t(p=>p.filter(d=>d.id!==c.id)),b("Paper deleted")}})},i=c=>{var p;return((p=W.find(d=>d.id===c))==null?void 0:p.name)||"-"},S=c=>{var p;return((p=V.find(d=>d.id===c))==null?void 0:p.name)||"-"},u=c=>{var p;return((p=fe.find(d=>d.id===c))==null?void 0:p.name)||"-"};return a.jsxs("div",{className:"crud-page",children:[a.jsx(xe,{title:"Generated Papers History",subtitle:"View and manage previously generated question papers",showAdd:!1,showRefresh:!1}),a.jsx(X,{className:"content-card",children:a.jsx(Se,{columns:g,dataSource:e,rowKey:"id",loading:r,scroll:{x:"max-content"},pagination:{showSizeChanger:!0,showTotal:c=>`Total ${c} papers`}})}),a.jsx(K,{title:a.jsxs(F,{children:[a.jsx(he,{}),"Paper Details"]}),open:s,onCancel:()=>m(!1),footer:[a.jsx(N,{onClick:()=>m(!1),children:"Close"},"close"),a.jsx(N,{type:"primary",icon:a.jsx(Y,{}),onClick:()=>y(),children:"Download PDF"},"download")],width:700,children:l&&a.jsxs(a.Fragment,{children:[a.jsxs(j,{bordered:!0,size:"small",column:2,children:[a.jsx(j.Item,{label:"Course",span:2,children:i(l.courseId)}),a.jsx(j.Item,{label:"Branch",children:S(l.branchId)}),a.jsx(j.Item,{label:"Regulation",children:u(l.regulationId)}),a.jsxs(j.Item,{label:"Semester",children:["Semester ",l.semester]}),a.jsx(j.Item,{label:"Academic Year",children:l.academicYear}),a.jsx(j.Item,{label:"Exam Type",children:a.jsx(M,{color:"blue",children:l.examType==="end"?"End Semester":"Mid Semester"})}),a.jsx(j.Item,{label:"Status",children:a.jsx(M,{color:l.status==="final"?"success":"warning",children:l.status})}),a.jsxs(j.Item,{label:"Total Marks",children:[l.totalMarks," marks"]}),a.jsxs(j.Item,{label:"Duration",children:[l.duration," minutes"]}),a.jsxs(j.Item,{label:"Questions",children:[l.questionCount," questions"]}),a.jsx(j.Item,{label:"Generated",children:be(l.generatedAt)}),a.jsx(j.Item,{label:"Generated By",span:2,children:l.generatedBy})]}),a.jsx(X,{size:"small",style:{marginTop:16},title:"Paper Statistics",children:a.jsxs(ve,{gutter:16,children:[a.jsx(A,{span:8,children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx(H,{level:3,style:{margin:0,color:"var(--color-primary)"},children:l.questionCount}),a.jsx(R,{type:"secondary",children:"Questions"})]})}),a.jsx(A,{span:8,children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx(H,{level:3,style:{margin:0,color:"var(--color-accent)"},children:l.totalMarks}),a.jsx(R,{type:"secondary",children:"Total Marks"})]})}),a.jsx(A,{span:8,children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx(H,{level:3,style:{margin:0,color:"var(--color-secondary)"},children:l.duration}),a.jsx(R,{type:"secondary",children:"Minutes"})]})})]})})]})})]})};export{st as default};
