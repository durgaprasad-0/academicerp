import{u as Y,r as x,c as _,q as G,j as e,h as S,C as r,d as i,i as w,aW as C,p as k,aX as T,T as O,n as h,B as l,L as o,S as n,x as I,E as y,Q as W,aY as H,U as D,aZ as U,N as V}from"./index-CV1bxkLI.js";import{P as M}from"./PageHeader-Dveo8Ckr.js";import{S as X,a as m,R as Z}from"./Dashboard-R8RS5lhW.js";import{u as J}from"./useTaskStore-B53TV6IO.js";import{i as K}from"./mockData-DhN2TBgL.js";import{C as g}from"./index-CJpspubW.js";import"./ReloadOutlined-D_5bXhqo.js";const{Title:oe,Text:a}=O,ce=()=>{const t=Y(),[E,R]=x.useState(!0),[d,q]=x.useState(null),[z,u]=x.useState(!1),{user:p}=_(),{tasks:A,updateTaskStatus:B,completeTask:P}=J(),{showSuccess:v}=G(),Q=(p==null?void 0:p.id)||2,j=A.filter(s=>s.assignedTo===Q),c=j.filter(s=>s.status==="pending"||s.status==="in_progress");x.useEffect(()=>{setTimeout(()=>{q(K),R(!1)},800)},[]);const $=[{icon:e.jsx(C,{}),label:"Add Question",path:"/faculty/question-bank",color:i.primary},{icon:e.jsx(k,{}),label:"Generate Paper",path:"/question-paper/generator",color:i.accent},{icon:e.jsx(w,{}),label:"Manage Outcomes",path:"/faculty/course-outcomes",color:i.secondary},{icon:e.jsx(T,{}),label:"View History",path:"/question-paper/history",color:"#F59E0B"}],F=s=>{B(s.id,"in_progress"),v("Task started")},L=s=>{P(s.id),v("Task completed!")},f=s=>({low:"default",medium:"warning",high:"error"})[s]||"default",b=s=>{switch(s){case"completed":return e.jsx(V,{style:{color:"#00B894"}});case"in_progress":return e.jsx(D,{style:{color:"#4E73DF"}});default:return e.jsx(U,{style:{color:"#F59E0B"}})}};return E?e.jsxs("div",{className:"dashboard-page",children:[e.jsx(M,{title:"Dashboard",subtitle:"Welcome to Faculty Dashboard",showAdd:!1,showRefresh:!1}),e.jsx(X.StatsCard,{count:4})]}):e.jsxs("div",{className:"dashboard-page",children:[e.jsx(M,{title:"Dashboard",subtitle:"Welcome back! Here's your teaching overview.",showAdd:!1,showRefresh:!1}),e.jsxs(S,{gutter:[16,16],className:"mb-lg",children:[e.jsx(r,{xs:24,sm:12,lg:6,children:e.jsx(m,{title:"Assigned Courses",value:d.assignedCourses,icon:e.jsx(w,{}),color:i.primary,onClick:()=>t("/faculty/course-outcomes")})}),e.jsx(r,{xs:24,sm:12,lg:6,children:e.jsx(m,{title:"Question Bank",value:d.totalQuestions,icon:e.jsx(C,{}),color:i.secondary,onClick:()=>t("/faculty/question-bank")})}),e.jsx(r,{xs:24,sm:12,lg:6,children:e.jsx(m,{title:"Papers Generated",value:d.papersGenerated,icon:e.jsx(k,{}),color:i.accent,onClick:()=>t("/question-paper/history")})}),e.jsx(r,{xs:24,sm:12,lg:6,children:e.jsx(m,{title:"Pending Tasks",value:c.length,icon:e.jsx(T,{}),color:"#F59E0B",onClick:()=>u(!0)})})]}),e.jsxs(S,{gutter:[16,16],children:[e.jsx(r,{xs:24,lg:16,children:e.jsx(g,{title:"My Courses",className:"dashboard-card",extra:e.jsx(l,{type:"link",icon:e.jsx(Z,{}),onClick:()=>t("/faculty/course-outcomes"),children:"View All"}),children:d.courses.map(s=>e.jsxs("div",{className:"course-progress-item",children:[e.jsxs("div",{className:"course-progress-header",children:[e.jsxs("div",{children:[e.jsx(a,{strong:!0,children:s.name}),e.jsx(a,{type:"secondary",style:{marginLeft:8},children:s.code})]}),e.jsxs(h,{color:"blue",children:[s.questions," questions"]})]}),e.jsxs("div",{className:"overview-cards",children:[e.jsxs("div",{className:"overview-card",children:[e.jsx("div",{className:"overview-card-value",children:s.questions}),e.jsx("div",{className:"overview-card-label",children:"Questions"})]}),e.jsxs("div",{className:"overview-card",children:[e.jsx("div",{className:"overview-card-value",children:s.outcomes}),e.jsx("div",{className:"overview-card-label",children:"Course Outcomes"})]}),e.jsxs("div",{className:"overview-card",children:[e.jsx("div",{className:"overview-card-value",children:"5"}),e.jsx("div",{className:"overview-card-label",children:"Units"})]})]}),e.jsx(l,{type:"primary",ghost:!0,size:"small",onClick:()=>t("/faculty/question-bank"),children:"Manage Questions"})]},s.id))})}),e.jsxs(r,{xs:24,lg:8,children:[e.jsx(g,{title:e.jsxs(n,{children:[e.jsx("span",{children:"Pending Tasks"}),c.length>0&&e.jsx(W,{count:c.length,size:"small"})]}),className:"dashboard-card",extra:e.jsx(l,{type:"link",size:"small",onClick:()=>u(!0),children:"View All"}),children:c.length>0?e.jsx(o,{size:"small",dataSource:c.slice(0,3),renderItem:s=>e.jsx(o.Item,{style:{cursor:"pointer",padding:"8px 0"},onClick:()=>u(!0),children:e.jsx(o.Item.Meta,{avatar:b(s.status),title:e.jsx(a,{ellipsis:!0,style:{maxWidth:180},children:s.title}),description:e.jsxs(n,{size:4,children:[e.jsx(h,{color:f(s.priority),style:{fontSize:10},children:s.priority}),s.dueDate&&e.jsxs(a,{type:"secondary",style:{fontSize:11},children:["Due: ",I(s.dueDate).format("DD MMM")]})]})})})}):e.jsx(y,{image:y.PRESENTED_IMAGE_SIMPLE,description:"No pending tasks",style:{padding:16}})}),e.jsx(g,{title:"Quick Actions",className:"dashboard-card",style:{marginTop:16},children:e.jsx(n,{direction:"vertical",style:{width:"100%"},size:"middle",children:$.map((s,N)=>e.jsx(l,{type:"default",icon:s.icon,block:!0,onClick:()=>t(s.path),className:"quick-action-btn",children:s.label},N))})})]})]}),e.jsx(H,{title:"My Tasks",open:z,onCancel:()=>u(!1),footer:null,width:600,children:j.length>0?e.jsx(o,{dataSource:j,renderItem:s=>e.jsx(o.Item,{actions:s.status!=="completed"?[s.status==="pending"&&e.jsx(l,{size:"small",onClick:()=>F(s),children:"Start"}),e.jsx(l,{type:"primary",size:"small",onClick:()=>L(s),children:"Complete"})].filter(Boolean):[],children:e.jsx(o.Item.Meta,{avatar:b(s.status),title:e.jsxs(n,{children:[e.jsx(a,{strong:!0,children:s.title}),e.jsx(h,{color:f(s.priority),children:s.priority})]}),description:e.jsxs("div",{children:[e.jsx(a,{type:"secondary",children:s.description}),e.jsx("br",{}),e.jsxs(n,{style:{marginTop:4},size:"middle",children:[s.courseName&&e.jsx(h,{children:s.courseName}),s.dueDate&&e.jsxs(a,{type:"secondary",style:{fontSize:12},children:[e.jsx(D,{})," Due: ",I(s.dueDate).format("DD MMM YYYY")]})]})]})})})}):e.jsx(y,{description:"No tasks assigned"})})]})};export{ce as default};
